{"data":{"site":{"siteMetadata":{"title":"Edgar Pino's Blog","author":"Edgar Pino"}},"markdownRemark":{"id":"cbd06123-d603-5874-91f2-888300e85e83","excerpt":"Problem or When calling an AWS Lambda function via the API Gateway from the front-end using jQuery or other Javascript frameworks. Solutionâ€¦","html":"<h2>Problem</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://12gddshj.execute-api.us-east-1.amazonaws.com/dev/api/email/send. (Reason: CORS header &#39;Access-Control-Allow-Origin&#39; missing).</code></pre></div>\n<p>or</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">XMLHttpRequest cannot load https://12gddshj.execute-api.us-east-1.amazonaws.com/dev/api/email/send. No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://localhost:8000&#39; is therefore not allowed access. The response had HTTP status code 400.</code></pre></div>\n<p>When calling an AWS Lambda function via the API Gateway from the front-end using jQuery or other Javascript frameworks.</p>\n<h2>Solution</h2>\n<p>Add the <code class=\"language-text\">Access-Control-Allow-Origin</code> header as part of the response.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const response = {\n  statusCode: 200,\n  headers: {\n    &quot;Access-Control-Allow-Origin&quot; : &quot;*&quot; // Required for CORS support to work\n  },\n  body: JSON.stringify({\n      message: body\n  }),\n};\n\ncallback(null, response);</code></pre></div>\n<p>Or with the domain you are making the requests from:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const response = {\n  statusCode: 200,\n  headers: {\n    &quot;Access-Control-Allow-Origin&quot; : &quot;www.example.com&quot; // Required for CORS support to work\n  },\n  body: JSON.stringify({\n      message: body\n  }),\n};\n\ncallback(null, response);</code></pre></div>\n<h4>Resources</h4>\n<ul>\n<li><a href=\"https://serverless.com/framework/docs/providers/aws/events/apigateway/\">API Gateway</a></li>\n<li><a href=\"https://github.com/serverless/serverless/issues/1955\">Github Issue</a></li>\n</ul>","frontmatter":{"title":"Simple CORS in AWS Lambda - Serverless Architecture","date":"January 24, 2017"}}},"pageContext":{"slug":"/2017/01/24/simple-cors-in-aws-lambda-serverless-architecture","previous":{"fields":{"slug":"/2016/02/02/basic-authentication-with-lumen-2"},"frontmatter":{"title":"Basic Authentication with Lumen"}},"next":{"fields":{"slug":"/2017/06/03/see-how-many-files-are-in-each-directory-for-a-give-directory"},"frontmatter":{"title":"See how many files are in each directory for a give directory"}}}}