{"data":{"site":{"siteMetadata":{"title":"Edgar Pino's Blog","author":"Edgar Pino"}},"markdownRemark":{"id":"d0d09110-8a5b-5999-97f7-72bb8f5e2679","excerpt":"Problem I was breaking my Elixir templates into a subtemplate but I was getting the following error: My parent template looked somethingâ€¦","html":"<h2>Problem</h2>\n<p>I was breaking my Elixir templates into a subtemplate but I was getting the following error:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">assign @conn not available in eex template.\n\nPlease make sure all proper assigns have been set. If this\nis a child template, ensure assigns are given explicitly by\nthe parent template as they are not automatically forwarded.\nAvailable assigns: [:event]</code></pre></div>\n<p>My parent template looked something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\">&lt;h1<span class=\"token operator\">></span>All Events<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>div class<span class=\"token operator\">=</span><span class=\"token string\">\"list-group\"</span>>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span><span class=\"token operator\">=</span> <span class=\"token keyword\">for</span> event <span class=\"token operator\">&lt;-</span> <span class=\"token attribute variable\">@events</span> <span class=\"token keyword\">do</span> <span class=\"token punctuation\">%</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span><span class=\"token operator\">=</span> render <span class=\"token string\">\"summary.html\"</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">event:</span> event <span class=\"token punctuation\">%</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span> <span class=\"token keyword\">end</span> <span class=\"token punctuation\">%</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre></div>\n<p>and my child template like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\">&lt;p<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"&lt;%= event_path @conn, :show, @event %>\"</span>>\n    <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span><span class=\"token operator\">=</span> <span class=\"token attribute variable\">@event</span><span class=\"token punctuation\">.</span>title <span class=\"token punctuation\">%</span><span class=\"token operator\">></span> <span class=\"token operator\">-</span> <span class=\"token operator\">&lt;</span>small<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span><span class=\"token operator\">=</span> <span class=\"token attribute variable\">@event</span><span class=\"token punctuation\">.</span>location <span class=\"token punctuation\">%</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>small<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></code></pre></div>\n<h2>Solution</h2>\n<p>The solution is simple, pass the @conn to your child template like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"elixir\"><pre class=\"language-elixir\"><code class=\"language-elixir\">&lt;h1<span class=\"token operator\">></span>All Events<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>div class<span class=\"token operator\">=</span><span class=\"token string\">\"list-group\"</span>>\n    <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span><span class=\"token operator\">=</span> <span class=\"token keyword\">for</span> event <span class=\"token operator\">&lt;-</span> <span class=\"token attribute variable\">@events</span> <span class=\"token keyword\">do</span> <span class=\"token punctuation\">%</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span><span class=\"token operator\">=</span> render <span class=\"token string\">\"summary.html\"</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">event:</span> event<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">conn:</span> <span class=\"token attribute variable\">@conn</span> <span class=\"token punctuation\">%</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">%</span> <span class=\"token keyword\">end</span> <span class=\"token punctuation\">%</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code></pre></div>\n<p>That is it, I hope I was able to help.</p>","frontmatter":{"title":"Elixir Error Solution: assign @conn not available in eex template. Available assigns: []","date":"July 15, 2017"}}},"pageContext":{"slug":"/2017/07/15/elixir-error-solution-assign-conn-not-available-in-eex-template-available-assigns","previous":{"fields":{"slug":"/2017/01/24/simple-cors-in-aws-lambda-serverless-architecture"},"frontmatter":{"title":"Simple CORS in AWS Lambda - Serverless Architecture"}},"next":{"fields":{"slug":"/2017/08/23/understading-k-means"},"frontmatter":{"title":"Understading K-Means"}}}}